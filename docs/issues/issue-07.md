# 为TodoList空白处添加双击和右键点击功能执行计划

## 问题分析

当前代码中，TodoList控件只处理了点击在具体任务项目上的事件，对于空白处的双击和右键点击没有任何响应。用户希望在这些空白处添加一些功能。

## 解决方案

### 1. 空白处双击功能

当用户在TodoList空白处双击时，弹出添加新任务的对话框，这是一个直观且常用的操作。

### 2. 空白处右键菜单

当用户在TodoList空白处右键点击时，显示一个上下文菜单，提供以下选项：
- 添加新任务
- 刷新列表

## 实现步骤

### 步骤1：修改TodoListCtrl.h中的事件处理方法

1. **修改OnDblClick方法**：
   - 当`pItemAct->iItem < 0`时，通知父窗口添加新任务

2. **修改OnRClick方法**：
   - 当`pItemAct->iItem < 0`时，通知父窗口显示空白处的上下文菜单

### 步骤2：在MainFrm.cpp中添加相应的处理方法

1. **添加OnTodoAddFromEmpty方法**：
   - 处理从空白处添加新任务的操作
   - 复用现有的添加任务逻辑

2. **添加OnTodoEmptyContextMenu方法**：
   - 处理空白处的右键菜单显示

3. **添加ShowEmptyContextMenu方法**：
   - 显示空白处的上下文菜单

### 步骤3：更新消息映射

在MainFrm.cpp的消息映射中添加对新命令的处理：
- 添加对`ID_TODO_ADD_FROM_EMPTY`命令的处理
- 添加对`ID_TODO_EMPTY_CONTEXT_MENU`命令的处理

## 预期效果

- 用户在TodoList空白处双击时，会弹出添加新任务的对话框
- 用户在TodoList空白处右键点击时，会显示一个包含"添加新任务"和"刷新列表"选项的上下文菜单

这样的实现符合用户的预期，提高了应用的易用性。
